<% max_award_updated_at = awards.map { |pa| [pa.updated_at, pa.award.updated_at].max }.max %>
<% cache [I18n.locale, player, player.photo.blob, max_award_updated_at] do %>
  <div class="rounded border border-maroon/20 p-4">
    <div>
      <% if player.photo.attached? %>
        <%= image_tag player.photo.variant(resize_to_limit: [300, 300]), alt: player.name %>
      <% else %>
        <%= image_tag Player::DEFAULT_PHOTO_PATH, alt: player.name %>
      <% end %>
    </div>
    <p class="font-medium"><%= player.name %></p>
    <div class="flex flex-wrap gap-2">
      <% awards.each do |pa| %>
        <%= render partial: "hall_of_fame/award", locals: { player_award: pa } %>
      <% end %>
    </div>
  </div>
<% end %>
